<!DOCTYPE html>
<html ng-app="armExplorer">

<head>
    <base href="/" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <script src="//az803612.vo.msecnd.net/explorercdn/jquery/2.1.3/jquery.min.js"></script>
    <script src="//az803612.vo.msecnd.net/explorercdn/jquery/2.1.3/jquery.cookie.min.js"></script>
    <script src="//az803612.vo.msecnd.net/explorercdn/angular.js/1.3.14/angular.min.js"></script>
    <script src="//az803612.vo.msecnd.net/explorercdn/angular.js/1.3.14/angular-route.min.js"></script>
    <script src="//az803612.vo.msecnd.net/explorercdn/angular.js/1.3.14/angular-animate.min.js"></script>
    <script src="//az803612.vo.msecnd.net/explorercdn/angular.js/1.3.14/angular-sanitize.min.js"></script>
    <script src="//az803612.vo.msecnd.net/explorercdn/angular.js/1.3.14/angular-cookies.min.js"></script>
    <script src="//az803612.vo.msecnd.net/explorercdn/bootstrap/3.2.0/ui-bootstrap-tpls.min.js"></script>
    <script src="//az803612.vo.msecnd.net/explorercdn/rxjs/2.3.25/rx.lite.compat.js"></script>
    <script src="//az803612.vo.msecnd.net/explorercdn/ace/1.1.8/ace.js"></script>
    <script src="//az803612.vo.msecnd.net/explorercdn/crypto-js/3.1.2/md5.js"></script>

    <script src="Content/Scripts/abn_tree_directive.js"></script>
    <script src="Content/Scripts/rx.angular.js"></script>
    <script src="Content/Scripts/ui-ace.min.js"></script>
    <script src="ng/manage.js"></script>

    <title>Resource Explorer</title>

    <!-- Bootstrap Core CSS -->
    <link href="//az803612.vo.msecnd.net/explorercdn/bootstrap/3.2.0/bootstrap.min.css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link href="Content/Styles/abn_tree.css" rel="stylesheet" />
    <link href="Content/Styles/sb-admin-2.css" rel="stylesheet" />

    <!-- Custom Fonts -->
    <link href="//az803612.vo.msecnd.net/explorercdn/font-awesome/4.1.0/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="Content/Styles/app.css?v=3" rel="stylesheet" type="text/css">
</head>

<body style="min-width: 1510px">

    <div id="wrapper" ng-controller="treeBodyController" ng-cloak>
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
            <div class="navbar-header">
                <a class="navbar-brand" href="/" ng-click="refresh()"><img src="/Images/ARMExplorer.svg" style="height: 25px; padding-bottom: 1px; padding-top: 1px; padding-right: 7px">Azure Resource Explorer (Preview)</a>
                <form class="navbar-form navbar-left" role="search" ng-submit="resourceSearch()">
                    <div class="input-group">
                        <input id="resource-search-input" type="text" class="form-control" placeholder="Search" ng-model="resourceSearchModel.searchKeyword" ng-keyup="delayResourceSearch($event)">
                        <span class="input-group-btn">
                            <button type="submit" class="btn btn-default">
                                <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                            </button>
                        </span>
                    </div>
                    <ul id="resource-search-list" class="list-group" ng-show="resourceSearchModel.isSuggestListDisplay"
                        style="position: fixed; top: 45px; z-index:9999; max-height: 500px; overflow-y:auto; overflow-x:hidden;">
                        <li class="list-group-item" ng-repeat="item in resourceSearchModel.suggestions" ng-click="selectResourceSearch(item)" title="{{item.id}}">
                            {{item.name}}<small>({{item.type}})</small>
                        </li>
                    </ul>
                </form>
                <select ng-model="selectedTenant" ng-options="tenant.name for tenant in tenants" style="position: relative; top: 15px; float: left" ng-change="tenantSelect()"></select>
                <div class="switch">
                    <input type="radio" class="switch-input" name="view" id="readOnly" ng-checked="readOnlyMode" ng-click="setReadOnlyMode(true)">
                    <label for="readOnly" class="switch-label switch-label-off">Read Only</label>
                    <input type="radio" class="switch-input" name="view" id="readWrite" ng-checked="!readOnlyMode" ng-click="setReadOnlyMode(false)">
                    <label for="readWrite" class="switch-label switch-label-on">Read/Write</label>
                    <span class="switch-selection"></span>
                </div>
                <ul class="nav navbar-nav navbar-right" style="position: relative;" ng-show="user">
                    <li class="dropdown">
                        <img ng-src="{{user.imageUrl}}" style="height: 50px; padding-top: 1px" />
                        <a href="#" data-toggle="dropdown" style="display: inline"> {{ user.name }} {{ user.email }} </a>
                        <ul class="dropdown-menu">
                            <li><a target="_blank" href="https://github.com/projectkudu/ARMExplorer/issues">Give feedback</a></li>
                            <li><a href="/logout" ng-click="logout()">Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>

        <div id="sidebar" class="navbar-default sidebar" role="navigation">
            <div class="sidebar-nav" style="white-space: nowrap">
                <abn-tree tree-data="resources" tree-control="treeControl" on-select="selectResourceHandler(branch, event)" on-expand="expandResourceHandler(branch, row, event)" expand-level="0"></abn-tree>
            </div>
        </div>

        <div id="content">
            <ng-include src="'ng/views/invokeActionResult.html'"></ng-include>
            <tabset>
                <tab id="data-tab" select="enterDataTab()" active="activeTab[0]">
                    <tab-heading><i class="fa fa-database"></i> Data (GET, PUT)</tab-heading>
                    <ng-include src="'ng/views/dataTab.html'"></ng-include>
                </tab>

                <tab disabled="!(selectedResource && selectedResource.actionsAndVerbs && selectedResource.actionsAndVerbs.length > 0)" active="activeTab[1]">
                    <tab-heading><i class="fa fa-bolt"></i> Actions (POST, DELETE)</tab-heading>
                    <ng-include src="'ng/views/actionsTab.html'"></ng-include>
                </tab>

                <tab disabled="!creatable" select="enterCreateMode()" deselect="leaveCreateMode()" active="activeTab[2]">
                    <tab-heading><i class="fa fa-database"></i> Create</tab-heading>
                    <ng-include src="'ng/views/createTab.html'"></ng-include>
                </tab>
                
                <tab active="activeTab[3]">
                    <tab-heading>Documentation</tab-heading>
                    <ng-include src="'ng/views/documentationTab.html'"></ng-include>
                </tab>

                <tab active="activeTab[4]">
                    <tab-heading>PowerShell</tab-heading>
                    <ng-include src="'ng/views/powershellTab.html'"></ng-include>
                </tab>

                <tab active="activeTab[5]">
                    <tab-heading>Azure CLI 2.0</tab-heading>
                    <ng-include src="'ng/views/azureCLITab.html'"></ng-include>
                </tab>
            </tabset>
        </div>

        <div id="sidebar-resizer"
             resizer="vertical"
             resizer-width="4"
             resizer-left="#sidebar"
             resizer-right="#content"
             resizer-max="100000">
        </div>

        <div id="delete-confirm-box" class="confirm-box">
            <div class="confirm-content">
                <div class="confirm-message">Are you sure you want to delete <strong>{{ treeControl.get_selected_branch().label }}</strong>?</div>
                <button id="yes-delete-confirm" class="btn btn-danger confirm-answer">
                    Yes
                </button>
                <button class="btn confirm-answer" ng-click="hideConfirm()">
                    No
                </button>
            </div>
        </div>

        <div id="readonly-confirm-box" class="confirm-box">
            <div class="confirm-content">
                <div class="confirm-message">You can't do this operation because you are in <strong>'Read Only'</strong> mode.<br> Switch to <strong>'Read/Write'</strong> mode from the top to enable this HttpVerb</div>
                <button class="btn btn-primary confirm-answer" ng-click="hideConfirm()">
                    Ok
                </button>
            </div>
        </div>

    </div>
    <div id="dark-blocker" class="dark-full-site-blocker" style="display: none"></div>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
</body>

</html>
